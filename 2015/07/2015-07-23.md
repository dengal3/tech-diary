title: "服务器和nginx"
date: 2015-07-23 21:38:03
tags:
- 服务器
- nginx
---

这几天在帮人在阿里云上面改一个域名下访问多个网页站点,因为那个网站从代码到上线都是给别人外包做的QAQ,所以开始也无从下手...在什么都不懂的摸索过程中,自己对网页开发的后台多了一丢丢的认识.现在来写个小结吧

服务器其实就是一台24小时都在工作的电脑,你一样给它配系统等等(这些在阿里云那里开始设置的时候弄好),然后你可以远程登陆这台电脑(ubuntu下用ssh命令以root用户登陆),登陆以后可以分下盘,像平时自己电脑一样配置一下环境.

服务器和虚拟空间
服务器相当于就是一台存在的硬件主机了,你在服务器上可以自己通过代理器映射到不同的网站目录下,这些网站目录其实就是相当于虚拟空间,即一个服务器上面可以自己划分很多个虚拟空间

在网站搭建的过程中,[nginx](http://nginx.org/en/docs/beginners_guide.html)
这种反向代理服务器([代理服务器和反向代理服务器的区别](http://www.tuicool.com/articles/eiYRbu))其实很重要的.我感觉它有点像路由,但是它是在服务器中根据ip/域名,路径去映射到不同的网站根目录下的,路由就是根据路径的不一样,采取不同的处理程序

``` 
# .conf
server {
    listen 8080;
    root /data/up1;
    server_name example.org

    location / {
    }
}

server {
    listen 80;
    root /data/up1;
    sever_name example.com

    location / {
    }
}
```

上面的配置文件就是nginx的核心部分,每个server相当于一个服务器,listen--监听,root--网站代码所在的根目录,server_name--外部访问域名的名字,location--路径

这就说明当一个访问请求来到服务器时,实际先要经过这个nginx,将它映射到相应的网站根目录下获取index,在index中的比如`<a href="/">link</a>`,这样的操作就是将这个访问又隐射到/处(由nginx处理),js代码中有api,里面是通过加'/msq'+router/name,nginx里面也有写这个location(/msq),但是这个不同于"/"这种,它没有获取东西,而是接着这个location来向后台传递信息.

后台一直在监听(0.0.0.0即全ip),一旦有请求到且要求是以/msq/开头的,就由router映射到不同的处理程序中执行再返回.

后台的文件不需要一定要放在根目录下的,就任意一个地方执行可以的,达到监听的目的就ok了

